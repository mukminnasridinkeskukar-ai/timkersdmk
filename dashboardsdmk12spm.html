<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Dashboard SDM Kesehatan â€“ 12 SPM</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ======================
   RESET & TV WALL MODE
====================== */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  cursor:none;
  user-select:none;
}
body{
  font-family:"Segoe UI",Arial,sans-serif;
  background:linear-gradient(180deg,#020617,#020617);
  color:#f8fafc;
  overflow:hidden;
}

/* ======================
   HEADER
====================== */
header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:24px 40px;
  border-bottom:1px solid #1e293b;
}
header h1{
  font-size:32px;
}
header span{
  font-size:14px;
  color:#94a3b8;
}
#periode{
  font-size:16px;
  color:#38bdf8;
}

/* ======================
   SUMMARY
====================== */
.summary{
  padding:24px 40px;
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:16px;
}
.summary .box{
  background:#020617;
  border:1px solid #1e293b;
  border-radius:14px;
  padding:18px;
  text-align:center;
}
.summary .box h2{
  font-size:36px;
}
.green{border-color:#16a34a;color:#22c55e}
.yellow{border-color:#ca8a04;color:#facc15}
.red{border-color:#b91c1c;color:#ef4444}

/* ======================
   GRID SPM
====================== */
.grid{
  padding:20px 40px;
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:18px;
}
.card{
  background:#020617;
  border:1px solid #1e293b;
  border-radius:16px;
  padding:18px;
}
.card h3{
  font-size:18px;
  margin-bottom:12px;
}
.progress{
  height:10px;
  background:#020617;
  border-radius:10px;
  overflow:hidden;
  margin:10px 0;
}
.progress span{
  display:block;
  height:100%;
  border-radius:10px;
  animation:grow 1.2s ease-out;
}
@keyframes grow{from{width:0}}

.meta{
  display:flex;
  justify-content:space-between;
  font-size:14px;
  color:#cbd5f5;
}
.badge{
  margin-top:10px;
  display:inline-block;
  padding:4px 10px;
  border-radius:20px;
  font-size:12px;
  font-weight:600;
}
.ok{background:#052e16;color:#22c55e}
.warn{background:#422006;color:#facc15}
.bad{background:#450a0a;color:#ef4444}

/* ======================
   TABLE
====================== */
.section-table{
  padding:24px 40px;
}
.section-table h2{
  margin-bottom:10px;
}
table{
  width:100%;
  border-collapse:collapse;
  font-size:14px;
}
th,td{
  padding:10px;
  border-bottom:1px solid #1e293b;
  text-align:center;
}
th{color:#7dd3fc}

/* ======================
   FOOTER
====================== */
footer{
  text-align:center;
  padding:12px;
  font-size:12px;
  color:#64748b;
}
</style>
</head>

<body>

<header>
  <div>
    <h1>ðŸ“Š Dashboard SDM Kesehatan</h1>
    <span>Monitoring 12 Standar Pelayanan Minimal</span>
  </div>
  <div id="periode"></div>
</header>

<section class="summary">
  <div class="box">
    <span>Total SPM</span>
    <h2>12</h2>
  </div>
  <div class="box green">
    <span>Tercapai</span>
    <h2 id="ok">0</h2>
  </div>
  <div class="box yellow">
    <span>Perlu Perhatian</span>
    <h2 id="warn">0</h2>
  </div>
  <div class="box red">
    <span>Kritis</span>
    <h2 id="bad">0</h2>
  </div>
</section>

<section class="grid" id="grid"></section>

<section class="section-table">
  <h2>ðŸ“‹ Detail Capaian 12 SPM</h2>
  <table>
    <thead>
      <tr>
        <th>No</th>
        <th>SPM</th>
        <th>Target (%)</th>
        <th>Capaian (%)</th>
        <th>Selisih</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody id="tbody"></tbody>
  </table>
</section>

<footer>
  Sistem Monitoring SDM Kesehatan â€¢ Mode TV Wall
</footer>

<script>
/* ======================
   SUMBER DATA
====================== */
// NANTI GANTI DENGAN URL WEB APP SCRIPT
// const API_URL = "https://script.google.com/macros/s/XXXX/exec";

let dataSPM = [
 {kode:"SPM01",nama:"Pelayanan Ibu Hamil",target:100,capaian:96},
 {kode:"SPM02",nama:"Pelayanan Persalinan",target:100,capaian:90},
 {kode:"SPM03",nama:"Pelayanan Bayi",target:100,capaian:88},
 {kode:"SPM04",nama:"Pelayanan Balita",target:100,capaian:75},
 {kode:"SPM05",nama:"Pelayanan Usia Sekolah",target:100,capaian:82},
 {kode:"SPM06",nama:"Pelayanan Usia Produktif",target:100,capaian:85},
 {kode:"SPM07",nama:"Pelayanan Lansia",target:100,capaian:70},
 {kode:"SPM08",nama:"Pelayanan Hipertensi",target:100,capaian:78},
 {kode:"SPM09",nama:"Pelayanan DM",target:100,capaian:80},
 {kode:"SPM10",nama:"Pelayanan ODGJ",target:100,capaian:92},
 {kode:"SPM11",nama:"Pelayanan TB",target:100,capaian:89},
 {kode:"SPM12",nama:"Pelayanan HIV",target:100,capaian:95}
];

/* ======================
   LOGIKA DASHBOARD
====================== */
const grid = document.getElementById("grid");
const tbody = document.getElementById("tbody");
let ok=0,warn=0,bad=0;

function getStatus(c){
  if(c>=100) return "ok";
  if(c>=80) return "warn";
  return "bad";
}

dataSPM.forEach((d,i)=>{
  const st = getStatus(d.capaian);
  if(st==="ok") ok++;
  else if(st==="warn") warn++;
  else bad++;

  const color = st==="ok"?"#22c55e":st==="warn"?"#facc15":"#ef4444";

  grid.innerHTML += `
    <div class="card">
      <h3>${d.nama}</h3>
      <div class="progress">
        <span style="width:${d.capaian}%;background:${color}"></span>
      </div>
      <div class="meta">
        <span>Target ${d.target}%</span>
        <span>${d.capaian}%</span>
      </div>
      <span class="badge ${st}">
        ${st==="ok"?"TERCAPAI":st==="warn"?"PERLU PERHATIAN":"KRITIS"}
      </span>
    </div>
  `;

  tbody.innerHTML += `
    <tr>
      <td>${i+1}</td>
      <td>${d.nama}</td>
      <td>${d.target}</td>
      <td>${d.capaian}</td>
      <td>${d.capaian-d.target}</td>
      <td class="${st}">
        ${st==="ok"?"TERCAPAI":st==="warn"?"PERLU PERHATIAN":"KRITIS"}
      </td>
    </tr>
  `;
});

document.getElementById("ok").innerText = ok;
document.getElementById("warn").innerText = warn;
document.getElementById("bad").innerText = bad;
document.getElementById("periode").innerText =
  "Periode: " + new Date().toLocaleDateString("id-ID",{month:"long",year:"numeric"});

// AUTO REFRESH 5 MENIT
setTimeout(()=>location.reload(),300000);

// AUTO FULLSCREEN
document.documentElement.requestFullscreen?.();
</script>

</body>
</html>
