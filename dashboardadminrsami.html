<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Dashboard SDMK</title>

<style>
body{
  margin:0;
  font-family:Segoe UI,Arial,sans-serif;
  background:linear-gradient(120deg,#0a0f2c,#050814);
  color:#eaf1ff;
}

header{
  padding:30px;
  text-align:center;
  font-size:28px;
  font-weight:700;
  letter-spacing:1px;
}

.grid{
  padding:30px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:24px;
}

.card{
  background:linear-gradient(145deg,#121a3a,#0a1026);
  border-radius:20px;
  padding:18px;
  cursor:pointer;
  transition:.3s;
}

.card:hover{
  transform:translateY(-6px);
  box-shadow:0 20px 40px rgba(0,0,0,.5);
}

.card img{
  width:100%;
  height:240px;
  object-fit:cover;
  border-radius:16px;
}

.card h3{
  margin:14px 0 4px;
  font-size:18px;
}

.card small{opacity:.7}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.9);
  display:none;
  z-index:999;
}

.modal-content{
  max-width:1200px;
  margin:40px auto;
  background:#0e1538;
  border-radius:24px;
  padding:25px;
}

.modal-grid{
  display:grid;
  grid-template-columns:360px 1fr;
  gap:30px;
}

.modal img{
  width:100%;
  border-radius:18px;
  cursor:pointer;
}

.label{
  font-size:12px;
  opacity:.6;
}

.value{
  margin-bottom:10px;
}

.close{
  text-align:right;
  margin-bottom:10px;
}

.close button{
  background:#ff4b4b;
  border:none;
  color:#fff;
  padding:8px 16px;
  border-radius:10px;
  cursor:pointer;
}

@media(max-width:900px){
  .modal-grid{grid-template-columns:1fr}
}
</style>
</head>

<body>

<header>DASHBOARD DATA SDMK</header>

<div class="grid" id="grid"></div>

<div class="modal" id="modal">
  <div class="modal-content">
    <div class="close">
      <button onclick="closeModal()">Tutup</button>
    </div>
    <div class="modal-grid" id="modalBody"></div>
  </div>
</div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbz30Zb1Agy7kH0xAOVxrCYTWGru0rPc_MhTlwPq7puBeh9Kuwerwjwp4H-ILWG7wPlA/exec";
let DATA=[];

fetch(API_URL)
.then(r=>r.json())
.then(d=>{
  DATA=d;
  render();
});

function render(){
  grid.innerHTML="";
  DATA.forEach(d=>{
    const foto = `https://drive.google.com/uc?export=view&id=${d["ID FOTO DRIVE"]}`;
    const card=document.createElement("div");
    card.className="card";
    card.innerHTML=`
      <img src="${foto}">
      <h3>${d["Nama Lengkap & Gelar"]}</h3>
      <small>${d["Jenis SDMK"]}</small>
    `;
    card.onclick=()=>openModal(d,foto);
    grid.appendChild(card);
  });
}

function openModal(d,foto){
  modal.style.display="block";
  modalBody.innerHTML=`
    <img src="${foto}" onclick="window.open('${foto}','_blank')">
    <div>
      ${Object.entries(d).map(([k,v])=>`
        <div class="label">${k}</div>
        <div class="value">${v||"-"}</div>
      `).join("")}
    </div>
  `;
}

function closeModal(){
  modal.style.display="none";
}
</script>

</body>
</html>
