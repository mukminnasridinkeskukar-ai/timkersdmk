<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>SDM Kesehatan | Dinkes Kutai Kartanegara</title>
<meta name="viewport" content="width=device-width">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body{margin:0;font-family:Inter;background:#f8fafc}
header{background:#0f172a;color:#fff;padding:22px}
.container{max-width:1200px;margin:auto;padding:24px}
</style>
</head>
<body>

<header>
<h2>ğŸ“Š SDM Kesehatan Kabupaten Kutai Kartanegara</h2>
<small>Data agregat publik</small>
</header>

<div class="container">
  <canvas id="c"></canvas>
</div>

<script>
const API = "https://script.google.com/macros/s/AKfycbxqZGc0qfI1TgbT76PZEwKK8BkTF86dA1sojKPvHapuRZc9zF1LrUPQkgrggITXppec/exec?page=api";

fetch(API)
.then(r=>r.json())
.then(d=>{
  const s={};
  d.forEach(x=>s[x.Jenis]=(s[x.Jenis]||0)+Number(x.Jumlah));

  new Chart(c,{
    type:"doughnut",
    data:{labels:Object.keys(s),datasets:[{data:Object.values(s)}]}
  });
});
</script>

</body>
</html>
