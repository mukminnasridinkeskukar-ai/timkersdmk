<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Form Pendaftaran Pengembangan Kompetensi ASN</title>

<style>
body{
  font-family: 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg,#eef2ff,#f8fafc);
  padding:20px;
}
.container{
  max-width:820px;
  margin:auto;
  background:#fff;
  padding:28px;
  border-radius:20px;
  box-shadow:0 20px 40px rgba(0,0,0,.12)
}
h2{
  text-align:center;
  margin-bottom:24px;
  color:#1e293b
}
label{
  font-weight:600;
  margin-top:14px;
  display:block
}
input,select{
  width:100%;
  padding:12px;
  margin-top:6px;
  border-radius:12px;
  border:1px solid #cbd5f5;
  font-size:14px
}
.row{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px
}
@media(max-width:640px){
  .row{grid-template-columns:1fr}
}
button{
  margin-top:22px;
  width:100%;
  padding:14px;
  border:none;
  border-radius:16px;
  background:linear-gradient(135deg,#2563eb,#1d4ed8);
  color:#fff;
  font-size:16px;
  font-weight:700;
  cursor:pointer
}
#notif{
  text-align:center;
  margin-top:16px;
  font-weight:700
}
</style>
</head>

<body>

<div class="container">
<h2>üìã Form Pendaftaran Pengembangan Kompetensi ASN</h2>

<form id="formDaftar">

<label>Nama Lengkap</label>
<input id="nama" required>

<div class="row">
  <div>
    <label>NIP</label>
    <input id="nip" required>
  </div>
  <div>
    <label>Unit Kerja</label>
    <input id="unit" required>
  </div>
</div>

<label>Status Pegawai</label>
<select id="status" required>
  <option value="">-- Pilih --</option>
  <option>PNS</option>
  <option>PPPK</option>
</select>

<label>Jenis SDMK</label>
<select id="jenis" required>
  <option value="">-- Pilih --</option>
  <option>Tenaga Medis</option>
  <option>Tenaga Kesehatan</option>
  <option>Tenaga Penunjang</option>
</select>

<div class="row">
  <div>
    <label>Jumlah JP Terakhir</label>
    <input id="jp_terakhir" type="number" required>
  </div>
  <div>
    <label>Jumlah JP</label>
    <input id="jp" type="number" required>
  </div>
</div>

<label>Tema Pembelajaran</label>
<input id="tema" required>

<label>Tanggal Kegiatan</label>
<input id="tanggal" type="date" required>

<label>Platform Digital Pilihan</label>
<select id="platform" required>
  <option value="">-- Pilih --</option>
  <option>Zoom</option>
  <option>Youtube</option>
</select>

<label>Whatsapp / Telpon</label>
<input id="wa" required>

<label>Email Aktif</label>
<input id="email" type="email" required>

<button>üöÄ KIRIM PENDAFTARAN</button>
</form>

<div id="notif"></div>
</div>

<script>
const WEBAPP_URL = "https://script.google.com/macros/s/AKfycby_spBMNY0_OLgMi8_LTOYLDRNxsjRFvdtTKPVOF5WIW9F_ppaizzoeo4sHYSonAfrkOQ/exec";
const form = document.getElementById("formDaftar");
const notif = document.getElementById("notif");

form.addEventListener("submit", async e => {
  e.preventDefault();
  notif.innerHTML = "‚è≥ Mengirim data...";

  const data = {
    nama: nama.value,
    nip: nip.value,
    unit: unit.value,
    status: status.value,
    jenis: jenis.value,
    jp_terakhir: jp_terakhir.value,
    tema: tema.value,
    tanggal: tanggal.value,
    jp: jp.value,
    platform: platform.value,
    wa: wa.value,
    email: email.value
  };

  try{
    const res = await fetch(WEBAPP_URL,{
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body: JSON.stringify(data)
    });
    const result = await res.json();

    notif.innerHTML = result.success
      ? "‚úÖ " + result.message
      : "‚ùå " + result.message;

    if(result.success) form.reset();

  }catch(err){
    notif.innerHTML = "‚ùå Gagal mengirim data";
    console.error(err);
  }
});
</script>

</body>
</html>
