<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Form UKOM Jabatan Fungsional Kesehatan</title>

<style>
body{
  margin:0;
  font-family:Segoe UI,Inter,Arial,sans-serif;
  background:linear-gradient(180deg,#60a5fa,#e0f2fe);
}
.container{
  max-width:860px;
  margin:50px auto;
  background:#fff;
  padding:32px;
  border-radius:20px;
  box-shadow:0 20px 45px rgba(0,0,0,.15);
}
h2{text-align:center;color:#1e40af}
p{text-align:center;color:#475569}

label{font-weight:600;margin-top:14px;display:block}
input,select{
  width:100%;
  padding:12px;
  margin-top:6px;
  border-radius:12px;
  border:1px solid #cbd5e1;
  font-size:15px;
}
button{
  margin-top:26px;
  width:100%;
  padding:16px;
  border:none;
  border-radius:14px;
  background:linear-gradient(135deg,#2563eb,#3b82f6);
  color:#fff;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
}
button:disabled{opacity:.6}

.note{
  font-size:12px;
  color:#dc2626;
  display:none;
}

#notif{
  display:none;
  margin-top:20px;
  padding:14px;
  border-radius:12px;
  font-weight:600;
  text-align:center;
}
.ok{background:#dcfce7;color:#166534}
.err{background:#fee2e2;color:#991b1b}
</style>
</head>

<body>
<div class="container">
<h2>FORMULIR UKOM JABATAN FUNGSIONAL KESEHATAN</h2>
<p>Isi data sesuai kondisi sebenarnya</p>

<form id="form">

<label>Periode</label>
<select name="periode" required>
  <option value="">-- pilih --</option>
  <option value="Januari 2026">Januari 2026</option>
  <option value="Juli 2026">Juli 2026</option>
</select>

<label>Nama Lengkap</label>
<input name="nama" required>

<label>NIK</label>
<input name="nik" maxlength="16" required>

<label>NIP</label>
<input name="nip">

<label>Nomor Telpon / WA</label>
<input name="telp" required>

<label>Email Aktif</label>
<input type="email" name="email" required>

<label>Unit Kerja</label>
<select name="unit" required>
  <option value="">-- pilih --</option>
  <option value="Puskesmas">Puskesmas</option>
  <option value="RSUD">RSUD</option>
  <option value="Dinas Kesehatan">Dinas Kesehatan</option>
</select>

<label>Jenis Jabatan</label>
<select name="jenis" id="jenis" required>
  <option value="">-- pilih --</option>
  <option value="Administrator Kesehatan">Administrator Kesehatan</option>
<option value="Apoteker">Apoteker</option>
<option value="Asisten Apoteker">Asisten Apoteker</option>
<option value="Asisten Penata Anestesi">Asisten Penata Anestesi</option>
<option value="Bidan">Bidan</option>
<option value="Dokter">Dokter</option>
<option value="Dokter Gigi">Dokter Gigi</option>
<option value="Entomolog kesehatan">Entomolog kesehatan</option>
<option value="Epidemiolog Kesehatan">Epidemiolog Kesehatan</option>
<option value="Fisikawan Medis">Fisikawan Medis</option>
<option value="Fisioterapis">Fisioterapis</option>
<option value="Nutrisionis">Nutrisionis</option>
<option value="Okupasi Terapis">Okupasi Terapis</option>
<option value="Pembimbing Kesehatan Kerja">Pembimbing Kesehatan Kerja</option>
<option value="Penata Anestesi">Penata Anestesi</option>
<option value="Perawat">Perawat</option>
<option value="Perekam Medis">Perekam Medis</option>
<option value="Pranata Laboratorium Kesehatan">Pranata Laboratorium Kesehatan</option>
<option value="Promosi Kesehatan dan Ilmu Perilaku">Promosi Kesehatan dan Ilmu Perilaku</option>
<option value="Psikologi klinis">Psikologi klinis</option>
<option value="Radiografer">Radiografer</option>
<option value="Refraksionis optisien"/Optometris>Refraksionis optisien/Optometris</option>
<option value="Teknisi Elektromedis">Teknisi Elektromedis</option>
<option value="Teknisi Gigi">Teknisi Gigi</option>
<option value="Teknisi Transfusi Darah">Teknisi Transfusi Darah</option>
<option value="Tenaga Sanitasi Lingkungan">Tenaga Sanitasi Lingkungan</option>
<option value="Terapis Gigi dan Mulut">Terapis Gigi dan Mulut</option>
<option value="Terapis Wicara">Terapis Wicara</option>
</select>

<label>Jenjang Jabatan</label>
<select name="jenjang" required>
  <option value="">-- pilih --</option>
  <option value="Ahli Madya">Ahli Madya</option>
<option value="Ahli Muda">Ahli Muda</option>
<option value="Ahli Pertama">Ahli Pertama</option>
<option value="Penyelia">Penyelia</option>
<option value="Mahir">Mahir</option>
<option value="Terampil">Terampil</option>
</select>

<label>Pangkat dan Golongan</label>
<select name="pangkat" required>
  <option value="">-- pilih --</option>
  <option value="Pengatur Muda - II/a">Pengatur Muda - II/a</option>
<option value="Pengatur Muda Tk. I - II/b">Pengatur Muda Tk. I - II/b</option>
<option value="Pengatur - II/c">Pengatur - II/c</option>
<option value="Pengatur Tk. I - II/d">Pengatur Tk. I - II/d</option>
<option value="Penata Muda - III/a">Penata Muda - III/a</option>
<option value="Penata Muda Tk. I - III/b">Penata Muda Tk. I - III/b</option>
<option value="Penata - III/c">Penata - III/c</option>
<option value="Penata Tk. I - III/d">Penata Tk. I - III/d</option>
<option value="Pembina - IV/a">Pembina - IV/a</option>
<option value="Pembina Tk. I - IV/b">Pembina Tk. I - IV/b</option>
<option value="Pembina Utama Muda - IV/c">Pembina Utama Muda - IV/c</option>
</select>

<label>Nilai PAK Terakhir</label>
<input name="pak">

<label>Nomor STR</label>
<input name="str" id="str">
<div class="note" id="strNote">STR wajib untuk jabatan fungsional kesehatan tertentu</div>

<label>Kategori Penjenjangan Jabatan</label>
<select name="kategori" required>
  <option value="">-- pilih --</option>
  <option value="Perpindahan Jabatan">Perpindahan Jabatan</option>
  <option value="Kenaikan Jenjang">Kenaikan Jenjang</option>
</select>

<label>Nama Jabatan Fungsional Yang Dituju</label>
<select name="jabatan_tujuan" required>
  <option value="">-- pilih --</option>
<option value="Administrator Kesehatan">Administrator Kesehatan</option>
<option value="Apoteker">Apoteker</option>
<option value="Asisten Apoteker">Asisten Apoteker</option>
<option value="Asisten Penata Anestesi">Asisten Penata Anestesi</option>
<option value="Bidan">Bidan</option>
<option value="Dokter">Dokter</option>
<option value="Dokter Gigi">Dokter Gigi</option>
<option value="Entomolog kesehatan">Entomolog kesehatan</option>
<option value="Epidemiolog Kesehatan">Epidemiolog Kesehatan</option>
<option value="Fisikawan Medis">Fisikawan Medis</option>
<option value="Fisioterapis">Fisioterapis</option>
<option value="Nutrisionis">Nutrisionis</option>
<option value="Okupasi Terapis">Okupasi Terapis</option>
<option value="Pembimbing Kesehatan Kerja">Pembimbing Kesehatan Kerja</option>
<option value="Penata Anestesi">Penata Anestesi</option>
<option value="Perawat">Perawat</option>
<option value="Perekam Medis">Perekam Medis</option>
<option value="Pranata Laboratorium Kesehatan">Pranata Laboratorium Kesehatan</option>
<option value="Promosi Kesehatan dan Ilmu Perilaku">Promosi Kesehatan dan Ilmu Perilaku</option>
<option value="Psikologi klinis">Psikologi klinis</option>
<option value="Radiografer">Radiografer</option>
<option value="Refraksionis optisien"/Optometris>Refraksionis optisien/Optometris</option>
<option value="Teknisi Elektromedis">Teknisi Elektromedis</option>
<option value="Teknisi Gigi">Teknisi Gigi</option>
<option value="Teknisi Transfusi Darah">Teknisi Transfusi Darah</option>
<option value="Tenaga Sanitasi Lingkungan">Tenaga Sanitasi Lingkungan</option>
<option value="Terapis Gigi dan Mulut">Terapis Gigi dan Mulut</option>
<option value="Terapis Wicara">Terapis Wicara</option>
</select>

<label>Jenjang Jabatan Tujuan</label>
<select name="jenjang_tujuan" required>
  <option value="">-- pilih --</option>
  <option value="Ahli Madya">Ahli Madya</option>
<option value="Ahli Muda">Ahli Muda</option>
<option value="Ahli Pertama">Ahli Pertama</option>
<option value="Penyelia">Penyelia</option>
<option value="Mahir">Mahir</option>
<option value="Terampil">Terampil</option>
</select>

<label>Upload Foto Latar Merah</label>
<input type="file" name="foto" accept=".jpg,.jpeg,.png" required>

<label>Upload Kelengkapan Dokumen (PDF)</label>
<input type="file" name="dokumen" accept=".pdf" required>

<div id="notif"></div>
<button type="submit" id="btn">üöÄ KIRIM DATA</button>

</form>
</div>

<script>
const WEB_APP_URL = 'PASTE_URL_WEB_APP_DI_SINI';

const jenis = document.getElementById('jenis');
const str = document.getElementById('str');
const note = document.getElementById('strNote');

jenis.onchange = ()=>{
  if(['Perawat','Bidan','Nutrisionis'].includes(jenis.value)){
    str.required = true;
    note.style.display = 'block';
  }else{
    str.required = false;
    note.style.display = 'none';
  }
};

const toBase64 = f => new Promise(res=>{
  const r = new FileReader();
  r.onload = e => res({
    name:f.name,
    type:f.type,
    data:e.target.result.split(',')[1]
  });
  r.readAsDataURL(f);
});

document.getElementById('form').onsubmit = async e=>{
  e.preventDefault();
  const btn = document.getElementById('btn');
  const notif = document.getElementById('notif');
  btn.disabled = true;

  const data = {};
  for(const el of e.target.elements){
    if(!el.name) continue;
    if(el.type==='file'){
      data[el.name] = el.files[0] ? await toBase64(el.files[0]) : null;
    }else{
      data[el.name] = el.value;
    }
  }

  fetch(WEB_APP_URL,{
    method:'POST',
    body:JSON.stringify(data)
  })
  .then(r=>r.json())
  .then(res=>{
    notif.style.display='block';
    notif.className = res.status==='OK' ? 'ok' : 'err';
    notif.innerHTML = res.status==='OK'
      ? '‚úÖ Data berhasil dikirim'
      : '‚ùå ' + res.message;
    if(res.status==='OK') e.target.reset();
    btn.disabled=false;
  })
  .catch(()=>{
    notif.style.display='block';
    notif.className='err';
    notif.innerHTML='‚ùå Koneksi ke server gagal';
    btn.disabled=false;
  });
};
</script>

</body>
</html>
