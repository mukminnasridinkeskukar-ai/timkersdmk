<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Form Permintaan PAK Integrasi 2022</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<style>
body{
  font-family:Segoe UI,Arial,sans-serif;
  background:#f4f7fb;
  margin:0;
}
.container{
  max-width:1150px;
  margin:30px auto;
  background:#fff;
  padding:25px;
  border-radius:10px;
  box-shadow:0 6px 18px rgba(0,0,0,.15)
}
h2{
  text-align:center;
  margin-bottom:20px
}
label{
  font-weight:600;
  margin-top:12px;
  display:block
}
input,select{
  width:100%;
  padding:10px;
  margin-top:5px;
  border-radius:6px;
  border:1px solid #ccc
}
hr{margin:25px 0}

/* ===== TOMBOL FORM ===== */
button{
  margin-top:25px;
  padding:18px;
  width:100%;
  background:#198754;
  color:#fff;
  border:none;
  font-size:18px;
  font-weight:800;
  border-radius:10px;
  box-shadow:0 6px 14px rgba(0,0,0,.25);
  cursor:not-allowed;
  opacity:.6;
  transition:.2s
}
button.active{cursor:pointer;opacity:1}
button:disabled{background:#6c757d;box-shadow:none}
small{display:block;margin-top:8px;color:#666;text-align:center}

/* ===== TOMBOL CTA + SALJU ===== */
.snow-wrap{text-align:center;margin-bottom:15px;position:relative;overflow:hidden}
.snow-btn{
  display:inline-block;
  padding:16px 42px;
  font-size:16px;
  font-weight:800;
  color:#fff;
  text-decoration:none;
  border-radius:50px;
  background:linear-gradient(135deg,#00c6ff,#0072ff,#00ffcc);
  background-size:300% 300%;
  animation:gradSnow 5s ease infinite;
  box-shadow:0 12px 30px rgba(0,114,255,.45);
  position:relative;
  z-index:2;
  transition:.2s
}
.snow-btn:hover{transform:scale(1.08)}

@keyframes gradSnow{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.snowflake{
  position:absolute;
  top:-10px;
  color:#fff;
  font-size:14px;
  pointer-events:none;
  animation:snowFall linear infinite;
}
@keyframes snowFall{
  to{transform:translateY(140px);opacity:0}
}
</style>
</head>

<body>

<div class="container">

<!-- ===== TOMBOL LINK PALING ATAS ===== -->
<div class="snow-wrap">
  <a class="snow-btn"
     href="https://simandakes.blogspot.com/p/proses-pak-integrasi-2022-pns.html"
     target="_blank">
    ❄️ PROSES PEMBUATAN PAK INTEGRASI 2022 ❄️
  </a>
</div>
<!-- ===== AKHIR TOMBOL ===== -->

<h2>FORM PENGAJUAN PAK INTEGRASI 2022</h2>

<form id="form">

<label>Email Aktif Pemohon</label>
<input type="email" name="Email" required>

<label>Nomor Telpon / Whatsapp Aktif</label>
<input name="NoHP" required>

<label>Nama Lengkap dengan Gelar (sesuai SK s.d 2022)</label>
<input name="NamaLengkap" required>

<label>NIP</label>
<input name="NIP" required>

<label>Nomor Seri Karpeg</label>
<input name="NoKarpeg" required>

<label>Tempat, Tanggal Lahir</label>
<input name="TTL" required>

<label>Pendidikan (sesuai SK s.d 2022)</label>
<input name="Pendidikan" required>

<label>Jenis Kelamin</label>
<select name="JenisKelamin" required>
  <option value="">-- Pilih --</option>
  <option>Laki-laki</option>
  <option>Perempuan</option>
</select>

<label>Pangkat / Golongan Ruang</label>
<select name="PangkatGol" required>
  <option value="">-- Pilih Pangkat / Gol --</option>
  <option>II/a - Pengatur Muda</option>
  <option>II/b - Pengatur Muda Tk.I</option>
  <option>II/c - Pengatur</option>
  <option>II/d - Pengatur Tk.I</option>
  <option>III/a - Penata Muda</option>
  <option>III/b - Penata Muda Tk.I</option>
  <option>III/c - Penata</option>
  <option>III/d - Penata Tk.I</option>
  <option>IV/a - Pembina</option>
  <option>IV/b - Pembina Tk.I</option>
  <option>IV/c - Pembina Utama Muda</option>
  <option>IV/d - Pembina Utama Madya</option>
  <option>IV/e - Pembina Utama</option>
</select>

<label>TMT Pangkat Terakhir</label>
<input type="date" name="TMTPangkat" required>

<label>Jenis Jabatan Fungsional</label>
<input name="JenisJF" required>

<label>Jenjang Jabatan</label>
<input name="JenjangJF" required>

<label>TMT Jabatan</label>
<input type="date" name="TMTJF" required>

<label>Masa Kerja Golongan</label>
<input name="MasaKerjaGol" required>

<label>Satuan Kerja</label>
<input name="SatuanKerja" required>

<hr>

<label>SK CPNS (80%) – PDF</label>
<input type="file" accept="application/pdf" required onchange="toBase64(this,'SK_CPNS')">

<label>SK Jabatan Fungsional di Tahun 2022 – PDF</label>
<input type="file" accept="application/pdf" required onchange="toBase64(this,'SK_JF')">

<label>SKP Tahun 2022 – PDF</label>
<input type="file" accept="application/pdf" required onchange="toBase64(this,'SKP_2022')">

<label>DUPAK Terakhir – PDF</label>
<input type="file" accept="application/pdf" required onchange="toBase64(this,'DUPAK')">

<label>PAK 2022 – PDF</label>
<input type="file" accept="application/pdf" required onchange="toBase64(this,'PAK_2022')">

<label>SK Kenaikan Pangkat Terakhir di Tahun 2022 – PDF</label>
<input type="file" accept="application/pdf" required onchange="toBase64(this,'SK_KP_2022')">

<button id="submitBtn" type="submit">KIRIM PENGAJUAN</button>
<small>* Tombol aktif jika seluruh data & dokumen telah lengkap</small>

</form>
</div>

<script>
/* === SCRIPT SALJU === */
(function(){
  const wrap=document.querySelector(".snow-wrap");
  const flakes=["❄","✻","✼","❅"];
  setInterval(()=>{
    const s=document.createElement("span");
    s.className="snowflake";
    s.textContent=flakes[Math.floor(Math.random()*flakes.length)];
    s.style.left=Math.random()*100+"%";
    s.style.fontSize=(10+Math.random()*10)+"px";
    s.style.animationDuration=(3+Math.random()*3)+"s";
    wrap.appendChild(s);
    setTimeout(()=>s.remove(),6000);
  },300);
})();

/* === SCRIPT FORM (ASLI) === */
const SCRIPT_URL="https://script.google.com/macros/s/AKfycbz0lTwIYRCGafMwI_fAgWTNKohADvhzXGcU9z-Cl-L3gfhnjkxEkF390S7D6_qWP7AmNg/exec";
const form=document.getElementById("form");
const btn=document.getElementById("submitBtn");
let files={},alreadySubmitted=false;

function toBase64(input,name){
  const r=new FileReader();
  r.onload=()=>{files[name]=r.result;checkReady()};
  r.readAsDataURL(input.files[0]);
}
function checkReady(){
  const ok=form.checkValidity() && Object.keys(files).length===6 && !alreadySubmitted;
  btn.classList.toggle("active",ok);
  btn.disabled=!ok;
}
form.addEventListener("input",checkReady);
form.onsubmit=e=>{
  e.preventDefault();
  if(alreadySubmitted) return;
  alreadySubmitted=true;
  btn.disabled=true;
  btn.innerText="⏳ SEDANG MENGIRIM...";
  const fd=new FormData(form);
  for(let k in files) fd.append(k,files[k]);
  fetch(SCRIPT_URL,{method:"POST",body:fd})
  .then(r=>r.json())
  .then(()=>{
    btn.innerText="✅ PENGAJUAN TERKIRIM";
    alert("Pengajuan berhasil dikirim. Silakan cek email Anda.");
    form.reset();
  })
  .catch(()=>btn.innerText="❌ GAGAL MENGIRIM");
};
</script>

</body>
</html>

